# 关于多线程对象池

要么加锁，但是没必要，还影响性能，但这不是关键，是、**没有必要**，主要是`C#`有一个

先看`C#`有一个`ThreadLocal`的东西

>  [关于ThreadLocal](https://learn.microsoft.com/en-us/dotnet/api/system.threading.threadlocal-1?view=net-7.0)
>
> 简单来说就是给每个线程都分配一个不同的隔离的变量
>
> 线程A有个对象池
>
> 线程B也有个对象池
>
> etc.

所以其实可以用这个东西



然后对象池引用池啥的最好加个统计数据

`AcquireCount`，每次Acquire记录一次

`NewCount`，每次通过Acquire但是存储里没有能用的，new的时候记录一次

`ReleaseCount`，每次还的时候记录一次